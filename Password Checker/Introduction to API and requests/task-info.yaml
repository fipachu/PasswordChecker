type: edu
files:
  - name: game.py
    visible: true
    text: |
      print("Hello World!")
    learner_created: false
  - name: test/__init__.py
    visible: false
    learner_created: false
  - name: test/tests.py
    visible: false
    text: |
      from hstest import CheckResult, StageTest, dynamic_test, TestedProgram
      import hashlib
      
      
      class StageTest4(StageTest):
      
          @dynamic_test
          def initial_prompt_test(self):
              main = TestedProgram()
              output = main.start().lower().strip()
              if "enter your password" not in output:
                  return CheckResult.wrong("Your program should ask for the user's password.")
              return CheckResult.correct()
      
          valid_pwds = ["mypassword123", "youcantguessme", "abcdefgh", "validpwd"]
      
          @dynamic_test(data=valid_pwds)
          def test_api_request(self, x):
              main = TestedProgram()
              main.start().lower()
      
              output = main.execute(x).lower().strip()
      
              if "https://api.pwnedpasswords.com/range/" not in output:
                  return CheckResult.wrong("The program did not display the API URL.")
      
              # Check if the URL contains the first 5 characters of the hashed password
              sha1_hash = hashlib.sha1(x.encode()).hexdigest().lower()
              if sha1_hash[:5] not in output:
                  return CheckResult.wrong("The URL did not contain the correct first 5 characters of the hashed password.")
      
              return CheckResult.correct()
      
      
      if __name__ == '__main__':
          StageTest4().run_tests()
    learner_created: false
  - name: tests.py
    visible: false
    text: |-
      from test.tests import StageTest4
      
      if __name__ == '__main__':
          StageTest4().run_tests()
    learner_created: false
feedback_link: https://hyperskill.org/learn/step/35143#comment
status: Failed
feedback:
  message: |-
    Wrong answer in test #2

    The program did not display the API URL.

    Please find below the output of your program during this failed test.
    Note that the '>' character indicates the beginning of the input line.

    ---

    Enter your password: > mypassword123
    Your hashed password is: 1cf4c502ddd89b918c4bfefea76dadd590693b48
  time: "Thu, 12 Oct 2023 12:05:30 UTC"
record: 4
